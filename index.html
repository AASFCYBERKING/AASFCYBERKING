<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <div id="loadingScreen" class="fixed inset-0 bg-blue-500 flex items-center justify-center z-50">
        <div class="animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-white"></div>
    </div>

    <div id="app" class="flex flex-col min-h-screen">
        <header class="bg-blue-600 text-white p-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold">AI Chat</h1>
            <button id="menuButton" class="md:hidden">
                <i class="fas fa-bars"></i>
            </button>
        </header>

        <nav id="navbar" class="bg-blue-500 text-white p-4 hidden md:block">
            <button id="closeNavButton" class="md:hidden float-right">
                <i class="fas fa-times"></i>
            </button>
            <ul class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4">
                <li><button class="nav-button" data-section="home">Home</button></li>
                <li><button class="nav-button" data-section="about">About</button></li>
                <li><button class="nav-button" data-section="contact">Contact</button></li>
            </ul>
        </nav>

        <main class="flex-grow p-4">
            <section id="homeSection">
                <div id="welcomeMessage" class="text-center py-8">
                    <h2 class="text-3xl font-bold mb-4">Welcome to AI Chat</h2>
                    <p class="text-xl">Start a conversation with our AI assistant!</p>
                </div>
                <div id="chatContainer" class="chat-container bg-gray-100 rounded-lg p-4 mb-4 hidden"></div>
                <form id="chatForm" class="flex space-x-2">
                    <input type="text" id="userInput" class="flex-grow border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Type your message...">
                    <button type="submit" id="sendButton" class="bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center">
                        <i id="sendIcon" class="fas fa-paper-plane h-4 w-4 md:mr-2"></i>
                        <span id="sendText" class="hidden md:inline">Send</span>
                    </button>
                    <button type="button" id="micButton" class="bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <i class="fas fa-microphone"></i>
                    </button>
                </form>
                <button id="clearHistoryBtn" class="clear-history-btn mt-4">Clear History</button>
            </section>

            <section id="aboutSection" class="hidden">
                <h2 class="text-2xl font-bold mb-4">About AI Chat</h2>
                <p>AI Chat is an advanced conversational AI platform designed to provide intelligent and helpful responses to your queries.</p>
            </section>

            <section id="contactSection" class="hidden">
                <h2 class="text-2xl font-bold mb-4">Contact Us</h2>
                <form id="contactForm" class="space-y-4">
                    <div>
                        <label for="contactEmail" class="block mb-1">Email:</label>
                        <input type="email" id="contactEmail" required class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label for="contactMessage" class="block mb-1">Message:</label>
                        <textarea id="contactMessage" required class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" rows="4"></textarea>
                    </div>
                    <button type="submit" class="bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">Send</button>
                </form>
            </section>
        </main>

        <footer class="bg-blue-600 text-white p-4 text-center">
            <p>&copy; 2023 AI Chat. All rights reserved.</p>
        </footer>
    </div>

    <div id="notificationsContainer" class="fixed bottom-4 right-4 space-y-2"></div>

    <div id="reportDialog" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="bg-white p-6 rounded-lg max-w-md w-full">
            <h2 class="text-2xl font-bold mb-4">Report an Issue</h2>
            <form id="reportForm" class="space-y-4">
                <div>
                    <label for="reportEmail" class="block mb-1">Your Email:</label>
                    <input type="email" id="reportEmail" required class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label for="reportProblem" class="block mb-1">Describe the Problem:</label>
                    <textarea id="reportProblem" required class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" rows="4"></textarea>
                </div>
                <input type="hidden" id="reportedContent">
                <div class="flex justify-end space-x-2">
                    <button type="button" id="cancelReport" class="bg-gray-300 text-gray-800 rounded-lg px-4 py-2 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500">Cancel</button>
                    <button type="submit" id="submitReport" class="bg-blue-500 text-white rounded-lg px-4 py-2 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <div id="clearHistoryModal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">Clear Chat History</h2>
            <p>Are you sure you want to clear the chat history? This action cannot be undone.</p>
            <div class="modal-actions">
                <button id="modalCancelBtn" class="modal-btn modal-btn-cancel">Cancel</button>
                <button id="modalClearBtn" class="modal-btn modal-btn-clear">Clear</button>
            </div>
            <button id="modalCloseBtn" class="modal-close-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <div id="micPermissionModal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">Microphone Access Required</h2>
            <p>To use the speech-to-text feature, we need access to your microphone. Please allow microphone access when prompted.</p>
            <div class="modal-actions">
                <button id="micPermissionAcceptBtn" class="modal-btn modal-btn-accept">Accept</button>
                <button id="micPermissionDeclineBtn" class="modal-btn modal-btn-decline">Decline</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
